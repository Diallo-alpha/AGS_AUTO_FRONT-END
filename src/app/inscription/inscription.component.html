<div class="container-fluid">
  <div class="row content">
    <div class="col-12 col-md-7 p-4">
      <!-- En-tête avec logo et bouton de connexion -->
      <header class="d-flex flex-column flex-md-row justify-content-between align-items-center mb-5">
        <div class="logo mb-3 mb-md-0">
          <span><img src="assets/images/Logo.svg" alt="Logo"></span>
        </div>
        <button class="btn btn-connexion" routerLink="/login">Connexion</button>
      </header>
      <div class="form-container">
        <h2 class="mb-3">Créer un compte</h2>
        <p class="text-muted mb-4"> <strong>Renseignez ces différents champs pour l'inscription</strong></p>

        <!-- Formulaire d'inscription -->
        <form (ngSubmit)="onSubmit()" #inscriptionForm="ngForm">
          <!-- Champ Nom complet -->
          <div class="mb-3">
            <label class="form-label" for="nomComplet">Nom complet</label>
            <input class="form-control" id="nomComplet" type="text" [(ngModel)]="user.nom_complet" name="nom_complet"
              required placeholder="Nom complet" #nomComplet="ngModel" />
            <div *ngIf="nomComplet.invalid && (nomComplet.dirty || nomComplet.touched)" class="text-danger">
              Le nom complet est requis.
            </div>        <!-- <p class="text-muted mb-4">Renseignez ces différents champs pour l'inscription</p> -->

          </div>

          <!-- Champ Email -->
          <div class="mb-3">
            <label class="form-label" for="email">Email</label>
            <input class="form-control" id="email" type="email" [(ngModel)]="user.email" name="email" required
              placeholder="demba@example.com" #email="ngModel" />
            <div *ngIf="email.invalid && (email.dirty || email.touched)" class="text-danger">
              Veuillez entrer une adresse email valide.
            </div>
          </div>

          <!-- Champ Téléphone -->
          <div class="mb-3">
            <label class="form-label" for="telephone">Téléphone</label>
            <input class="form-control" id="telephone" type="tel" [(ngModel)]="user.telephone" name="telephone" required
              placeholder="781442525" #telephone="ngModel" />
            <div *ngIf="telephone.invalid && (telephone.dirty || telephone.touched)" class="text-danger">
              Veuillez entrer un numéro de téléphone valide.
            </div>
          </div>

          <!-- Champ Mot de passe -->
          <div class="mb-3">
            <label class="form-label" for="motDePasse">Mot de passe</label>
            <div class="input-group">
              <input class="form-control" id="motDePasse" [type]="showPassword ? 'text' : 'password'"
                [(ngModel)]="user.password" name="password" required minlength="6" placeholder="••••••"
                #password="ngModel" />
              <button class="btn btn-outline-secondary" type="button" (click)="togglePasswordVisibility('password')">
                <i class="bi" [ngClass]="showPassword ? 'bi-eye-slash-fill' : 'bi-eye-fill'"></i>
              </button>
            </div>
            <div *ngIf="password.invalid && (password.dirty || password.touched)" class="text-danger">
              Le mot de passe doit contenir au moins 6 caractères.
            </div>
          </div>

          <!-- Champ Confirmation mot de passe -->
          <div class="mb-4">
            <label class="form-label" for="confirmationMotDePasse">Confirmer le mot de passe</label>
            <div class="input-group">
              <input class="form-control" id="confirmationMotDePasse" [type]="showConfirmPassword ? 'text' : 'password'"
                [(ngModel)]="user.password_confirmation" name="password_confirmation" required placeholder="••••••"
                #passwordConfirm="ngModel" />
              <button class="btn btn-outline-secondary" type="button"
                (click)="togglePasswordVisibility('confirmation')">
                <i class="bi" [ngClass]="showConfirmPassword ? 'bi-eye-slash-fill' : 'bi-eye-fill'"></i>
              </button>
            </div>
            <div *ngIf="passwordConfirm.invalid && (passwordConfirm.dirty || passwordConfirm.touched)"
              class="text-danger">
              La confirmation du mot de passe est requise.
            </div>
          </div>

          <!-- Bouton d'inscription -->
          <button class="btn btn-inscription w-100 py-2" type="submit" [disabled]="!inscriptionForm.form.valid">
            Inscription
          </button>
        </form>

        <!-- Message d'erreur -->
        <div *ngIf="errorMessage" class="alert alert-danger mt-3">
          {{ errorMessage }}
        </div>
      </div>
    </div>

    <!-- Colonne droite pour l'image (visible uniquement sur desktop) -->
    <div class="col-md-5 px-0 right-content d-none d-md-block">
      <div class="overlay"></div>
      <img alt="Image d'un atelier automobile avec des équipements de diagnostic et des voitures en cours de réparation"
        class="img-fluid h-100 w-100 object-fit-cover" src="assets/images/inscription.png" />
    </div>
  </div>
</div>
